# Meson cross-compilation file for VeridianOS (AArch64)
#
# Usage:
#   meson setup builddir --cross-file toolchain/meson/veridian-aarch64.ini
#
# Prerequisites:
#   - aarch64-veridian cross-compiler toolchain installed at /opt/veridian/toolchain
#   - VeridianOS sysroot populated at /opt/veridian/sysroot/aarch64
#
# Override paths via environment:
#   VERIDIAN_TOOLCHAIN_PREFIX=/path/to/toolchain
#   VERIDIAN_SYSROOT=/path/to/sysroot

[binaries]
c = '/opt/veridian/toolchain/bin/aarch64-veridian-gcc'
cpp = '/opt/veridian/toolchain/bin/aarch64-veridian-g++'
ar = '/opt/veridian/toolchain/bin/aarch64-veridian-ar'
strip = '/opt/veridian/toolchain/bin/aarch64-veridian-strip'
ld = '/opt/veridian/toolchain/bin/aarch64-veridian-ld'
objcopy = '/opt/veridian/toolchain/bin/aarch64-veridian-objcopy'
objdump = '/opt/veridian/toolchain/bin/aarch64-veridian-objdump'
ranlib = '/opt/veridian/toolchain/bin/aarch64-veridian-ranlib'
nm = '/opt/veridian/toolchain/bin/aarch64-veridian-nm'
pkgconfig = '/usr/bin/pkg-config'
exe_wrapper = ['qemu-aarch64-static', '-L', '/opt/veridian/sysroot/aarch64']

[host_machine]
system = 'veridian'
cpu_family = 'aarch64'
cpu = 'aarch64'
endian = 'little'

[properties]
sys_root = '/opt/veridian/sysroot/aarch64'
pkg_config_libdir = '/opt/veridian/sysroot/aarch64/usr/lib/pkgconfig:/opt/veridian/sysroot/aarch64/usr/share/pkgconfig'
needs_exe_wrapper = true

[built-in options]
c_args = ['--sysroot=/opt/veridian/sysroot/aarch64', '-march=armv8-a', '-mtune=generic']
c_link_args = ['--sysroot=/opt/veridian/sysroot/aarch64']
cpp_args = ['--sysroot=/opt/veridian/sysroot/aarch64', '-march=armv8-a', '-mtune=generic']
cpp_link_args = ['--sysroot=/opt/veridian/sysroot/aarch64']
prefix = '/usr'
