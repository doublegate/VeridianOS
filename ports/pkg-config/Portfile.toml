# Portfile.toml -- pkg-config for VeridianOS
#
# pkg-config is used by build systems to locate installed libraries and
# retrieve their compile/link flags. Uses the internal glib bundled in the
# source to avoid a circular dependency on glib itself.

[port]
name = "pkg-config"
version = "0.29.2"
description = "Library compile/link flag discovery tool"
homepage = "https://www.freedesktop.org/wiki/Software/pkg-config/"
license = "GPL-2.0-or-later"
category = "devel"
build_type = "autotools"

[sources]
urls = ["https://pkgconfig.freedesktop.org/releases/pkg-config-0.29.2.tar.gz"]
checksums = ["6fc69c01688c9458a57eb9a1664c9aba372ccda420a02bf4429fe610e7e7d591"]

[dependencies]
build = []
runtime = []

[build]
steps = [
    "./configure --host=x86_64-veridian --prefix=/usr --with-internal-glib --disable-host-tool",
    "make -j$(nproc)",
    "make install DESTDIR=$PKG_DIR"
]
